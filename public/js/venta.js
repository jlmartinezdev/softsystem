!function(t){var e={};function a(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,a),o.l=!0,o.exports}a.m=t,a.c=e,a.d=function(t,e,r){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)a.d(r,o,function(e){return t[e]}.bind(null,o));return r},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/",a(a.s=4)}({4:function(t,e,a){t.exports=a("QjX2")},"KHd+":function(t,e,a){"use strict";function r(t,e,a,r,o,n,i,s){var c,l="function"==typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=a,l._compiled=!0),r&&(l.functional=!0),n&&(l._scopeId="data-v-"+n),i?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(i)},l._ssrRegister=c):o&&(c=s?function(){o.call(this,this.$root.$options.shadowRoot)}:o),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(t,e){return c.call(e),u(t,e)}}else{var d=l.beforeCreate;l.beforeCreate=d?[].concat(d,c):[c]}return{exports:t,options:l}}a.d(e,"a",function(){return r})},QjX2:function(t,e,a){Vue.component("generar_cuota",a("TZ6v").default)},TZ6v:function(t,e,a){"use strict";a.r(e);var r={name:"generar_cuota",props:["total","fecha","datoscuota","calcularcuota"],data:function(){return{cant_cuota:1,sentrega:"",entrega:0,primeracuota:!1,saldo:0,interes:0,cuota:{nro:0,interes:0,vencimiento:0,monto:0,tipo:0},oldDatos:{entrega:0,saldo:0},cuotas:[],redondear:!1}},watch:{total:function(){this.saldo=this.total},calcularcuota:function(t,e){t||(this.cant_cuota=Number(this.datoscuota.iPrecio.substr(2)))},primeracuota:function(t,e){t?(this.oldDatos.saldo=this.saldo,this.oldDatos.entrega=this.entrega,this.saldo=this.total,this.entrega=0):(this.saldo=this.oldDatos.saldo,this.entrega=this.oldDatos.entrega)}},methods:{generar:function(){var t,e,a,r;this.cuotas=[];var o=0;if(e=this.saldo,(a=this.cant_cuota)<1)Swal.fire("Atención...","Cantidad de cuota es 0!","warning");else if(e<1)Swal.fire("Atención...","No se puede generar cuota Saldo es 0!","warning");else{t=this.calcularcuota?Number.parseInt(e/a):this.datoscuota.monto_cuota,r=e%a,this.interes>0&&(t+=t*this.interes/100);var n=new Date(this.fecha);if(this.primeracuota||this.entrega>0&&(this._setCuota(1,this._nextMonth(n,!1),this.entrega,"Entrega"),1,o++),this.redondear&&a>1&&0!=r&&t.toString().length>3){var i=t.toString().substr(t.toString().length-1,3);if(t.toString().substr(t.toString().length-3,3)==i.repeat(3)){var s=t.toString().substr(0,t.toString().length-4);s=1e4*(Number.parseInt(s)+1),this._setCuota(o+1,this._nextMonth(n,!this.primeracuota),s,this.primeracuota?"Entrega":"Cuota"),o++,t=(e-s)/--a}}for(var c=1;c<=a;c++)this._setCuota(c+o,this._nextMonth(n,1!=c||!this.primeracuota),t,1==c&&this.primeracuota?"Entrega":"Cuota");this.getCuotas()}},_nextMonth:function(t,e){return e&&t.setMonth(t.getMonth()+1),t.getDate().toString().padStart(2,"0")+"-"+(t.getMonth()+1).toString().padStart(2,"0")+"-"+t.getFullYear()},_setCuota:function(t,e,a,r){var o={nro:t,interes:this.interes,vencimiento:e,monto:a,tipo:r};this.cuotas.push(o)},getCuotas:function(){this.$emit("cuotas",this.cuotas)},getSaldo:function(){var t=$("#entrega").val();this.entrega=t.replaceAll(",",""),this.total>=this.entrega?this.saldo=this.total-this.entrega:(Swal.fire("Atención...","Número ingresado es mayor a Monto de Venta!","warning"),this.saldo=0)}},mounted:function(){this.saldo=this.total}},o=a("KHd+"),n=Object(o.a)(r,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"row"},[a("div",{staticClass:"col-4"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Monto de Venta")]),t._v(" "),a("p",{staticClass:"font-weight-bold text-primary"},[t._v(t._s(new Intl.NumberFormat("de-DE").format(t.total)))])]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",[t._v("Interes %")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.interes,expression:"interes"}],staticClass:"form-control form-control-sm",attrs:{type:"number",placeholder:"Porcentaje ..."},domProps:{value:t.interes},on:{input:function(e){e.target.composing||(t.interes=e.target.value)}}})]),t._v(" "),a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.primeracuota,expression:"primeracuota"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.primeracuota)?t._i(t.primeracuota,null)>-1:t.primeracuota},on:{change:function(e){var a=t.primeracuota,r=e.target,o=!!r.checked;if(Array.isArray(a)){var n=t._i(a,null);r.checked?n<0&&(t.primeracuota=a.concat([null])):n>-1&&(t.primeracuota=a.slice(0,n).concat(a.slice(n+1)))}else t.primeracuota=o}}}),t._v(" Entrega primera cuota")])]),t._v(" "),a("div",{staticClass:"col-4"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Saldo")]),t._v(" "),a("p",{staticClass:"font-weight-bold text-danger"},[t._v(t._s(new Intl.NumberFormat("de-DE").format(t.saldo)))])]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",[t._v("Cantidad Cuota")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.cant_cuota,expression:"cant_cuota"}],staticClass:"form-control form-control-sm",attrs:{type:"Number",disabled:!t.calcularcuota,placeholder:"Cant. Cuota ..."},domProps:{value:t.cant_cuota},on:{input:function(e){e.target.composing||(t.cant_cuota=e.target.value)}}})])]),t._v(" "),a("div",{staticClass:"col-4"},[a("div",{staticClass:"form-group"},[a("label",[t._v("Entrega")]),t._v(" "),a("input",{staticClass:"form-control number-separator form-control-sm",staticStyle:{"text-align":"right"},attrs:{type:"text",id:"entrega",disabled:t.primeracuota,placeholder:"Monto ..."},on:{keyup:t.getSaldo}})]),t._v(" "),a("div",{staticClass:"form-group"},[a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.redondear,expression:"redondear"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.redondear)?t._i(t.redondear,null)>-1:t.redondear},on:{change:function(e){var a=t.redondear,r=e.target,o=!!r.checked;if(Array.isArray(a)){var n=t._i(a,null);r.checked?n<0&&(t.redondear=a.concat([null])):n>-1&&(t.redondear=a.slice(0,n).concat(a.slice(n+1)))}else t.redondear=o}}}),t._v(" Redondear Monto Cuota")]),t._v(" "),a("button",{staticClass:"btn btn-primary btn-sm btn-block",on:{click:t.generar}},[a("span",{staticClass:"fa fa-cog"}),t._v(" Generar Cuota")])])])]),t._v(" "),a("hr"),t._v(" "),a("table",{staticClass:"table table-striped table-hover table-sm"},[t._m(0),t._v(" "),a("tbody",[t._l(t.cuotas,function(e){return[a("tr",[a("td",[t._v(t._s(e.nro))]),t._v(" "),a("td",[t._v(t._s(new Intl.NumberFormat("de-DE").format(e.monto)))]),t._v(" "),a("td",[t._v(t._s(e.vencimiento))]),t._v(" "),a("td",[t._v(t._s(e.tipo))])])]})],2)])])},[function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("th",[this._v("#")]),this._v(" "),e("th",[this._v("Cuota")]),this._v(" "),e("th",[this._v("vencimiento")]),this._v(" "),e("th",[this._v("Tipo")])])}],!1,null,null,null);e.default=n.exports}});
!function(t){var a={};function s(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=a,s.d=function(t,a,e){s.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:e})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,a){if(1&a&&(t=s(t)),8&a)return t;if(4&a&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(s.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var n in t)s.d(e,n,function(a){return t[a]}.bind(null,n));return e},s.n=function(t){var a=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(a,"a",a),a},s.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},s.p="/",s(s.s=2)}({2:function(t,a,s){t.exports=s("DVuF")},"6pjo":function(t,a,s){"use strict";s.r(a);function e(t){for(var a=1;a<arguments.length;a++){var s=null!=arguments[a]?arguments[a]:{},e=Object.keys(s);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(s).filter(function(t){return Object.getOwnPropertyDescriptor(s,t).enumerable}))),e.forEach(function(a){n(t,a,s[a])})}return t}function n(t,a,s){return a in t?Object.defineProperty(t,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[a]=s,t}var i={ul:"pagination",li:"pagination-item",liActive:"pagination-item--active",liDisable:"pagination-item--disable",button:"pagination-link",buttonActive:"pagination-link--active",buttonDisable:"pagination-link--disable"},r={first:"&laquo;",prev:"&lsaquo;",next:"&rsaquo;",last:"&raquo;"},o={name:"vPagination",props:{value:{type:Number,required:!0},pageCount:{type:Number,required:!0},classes:{type:Object,required:!1,default:function(){return{}}},labels:{type:Object,required:!1,default:function(){return{}}}},data:function(){return{paginationClasses:e({},i,this.classes),paginationLabels:e({},r,this.labels)}},mounted:function(){this.value>this.pageCount&&this.$emit("input",this.pageCount)},computed:{items:function(){for(var t=this.value>1?this.value-1:1,a=this.value<this.pageCount?this.value+1:this.pageCount,s=3===t?2:null,e=a===this.pageCount-2?this.pageCount-1:null,n=t>3?2:null,i=a<this.pageCount-2?this.pageCount-1:null,r=[],o=1;o<=this.pageCount;o+=1)[1,this.pageCount,this.value,t,a,s,e,n,i].includes(o)&&r.push({label:o,active:this.value===o,disable:[n,i].includes(o)});return r},hasFirst:function(){return 1===this.value},hasLast:function(){return this.value===this.pageCount}},watch:{value:function(){this.$emit("change")}},methods:{first:function(){this.hasFirst||this.$emit("input",1)},prev:function(){this.hasFirst||this.$emit("input",this.value-1)},goto:function(t){this.$emit("input",t)},next:function(){this.hasLast||this.$emit("input",this.value+1)},last:function(){this.hasLast||this.$emit("input",this.pageCount)}}},l=s("KHd+"),u=Object(l.a)(o,function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ul",{class:t.paginationClasses.ul,staticStyle:{"margin-top":"1rem"}},[t.paginationLabels.first?s("li",{class:t.paginationClasses.li+" "+(t.hasFirst?t.paginationClasses.liDisable:"")},[s("button",{class:t.paginationClasses.button+" "+(t.hasFirst?t.paginationClasses.buttonDisable:""),attrs:{disabled:t.hasFirst},domProps:{innerHTML:t._s(t.paginationLabels.first)},on:{click:t.first}})]):t._e(),t._v(" "),t.paginationLabels.prev?s("li",{class:t.paginationClasses.li+" "+(t.hasFirst?t.paginationClasses.liDisable:"")},[s("button",{class:t.paginationClasses.button+" "+(t.hasFirst?t.paginationClasses.buttonDisable:""),attrs:{disabled:t.hasFirst},domProps:{innerHTML:t._s(t.paginationLabels.prev)},on:{click:t.prev}})]):t._e(),t._v(" "),t._l(t.items,function(a){return s("li",{key:a.label,class:t.paginationClasses.li+" "+(a.active?t.paginationClasses.liActive:"")+" "+(a.disable?t.paginationClasses.liDisable:"")},[a.disable?s("span",{class:t.paginationClasses.button+" "+t.paginationClasses.buttonDisable},[t._v("\n      ...\n    ")]):s("button",{class:t.paginationClasses.button+" "+(a.active?t.paginationClasses.buttonActive:""),on:{click:function(s){return t.goto(a.label)}}},[t._v("\n      "+t._s(a.label)+"\n    ")])])}),t._v(" "),t.paginationLabels.next?s("li",{class:t.paginationClasses.li+" "+(t.hasLast?t.paginationClasses.liDisable:"")},[s("button",{class:t.paginationClasses.button+" "+(t.hasLast?t.paginationClasses.buttonDisable:""),attrs:{disabled:t.hasLast},domProps:{innerHTML:t._s(t.paginationLabels.next)},on:{click:t.next}})]):t._e(),t._v(" "),t.paginationLabels.last?s("li",{class:t.paginationClasses.li+" "+(t.hasLast?t.paginationClasses.liDisable:"")},[s("button",{class:t.paginationClasses.button+" "+(t.hasLast?t.paginationClasses.buttonDisable:""),attrs:{disabled:t.hasLast},domProps:{innerHTML:t._s(t.paginationLabels.last)},on:{click:t.last}})]):t._e()],2)},[],!1,null,null,null);a.default=u.exports},DVuF:function(t,a,s){Vue.component("busqueda",s("dsHx").default)},"KHd+":function(t,a,s){"use strict";function e(t,a,s,e,n,i,r,o){var l,u="function"==typeof t?t.options:t;if(a&&(u.render=a,u.staticRenderFns=s,u._compiled=!0),e&&(u.functional=!0),i&&(u._scopeId="data-v-"+i),r?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},u._ssrRegister=l):n&&(l=o?function(){n.call(this,this.$root.$options.shadowRoot)}:n),l)if(u.functional){u._injectStyles=l;var c=u.render;u.render=function(t,a){return l.call(a),c(t,a)}}else{var p=u.beforeCreate;u.beforeCreate=p?[].concat(p,l):[l]}return{exports:t,options:u}}s.d(a,"a",function(){return e})},dsHx:function(t,a,s){"use strict";s.r(a);function e(t,a,s){return a in t?Object.defineProperty(t,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[a]=s,t}var n={name:"busqueda",props:["txt_buscar"],data:function(){var t;return e(t={requestSend:!1,currentPage:1,idSuc:1,txtbuscar:"",articulos:[],requestLote:!1,filtro:{seccion:0,columna:0,orden:"ASC"}},"requestLote",!1),e(t,"paginacion",{total:0,pagina_actual:1,por_pagina:0,ultima_pagina:0,desde:0,hasta:0}),e(t,"bootstrapPaginationClasses",{ul:"pagination",li:"page-item",liActive:"active",liDisable:"disabled",button:"page-link"}),e(t,"customLabels",{first:"Primer",prev:"Ant",next:"Sig",last:"Ultimo"}),e(t,"error",""),t},components:{vPagination:s("6pjo").default},methods:{onChange:function(){this.paginacion.ultima_pagina>1&&this.buscar(!0)},setBuscar:function(){this.txtbuscar=this.txt_buscar,this.buscar(!1)},buscar:function(t){var a=this;if(this.requestSend=!0,0==this.txtbuscar.length){var s=t?this.currentPage:1;axios.get("articulo/buscar",{params:{page:s,buscar:this.txtbuscar,criterio:0,seccion:this.filtro.seccion,col:this.filtro.columna,ord:this.filtro.orden,suc:this.idSuc}}).then(function(t){a.requestSend=!1,"NO"==t.data?Swal.fire("No se encontrado resultado!","Para:  "+a.txtbuscar,"info"):(a.articulos=t.data.articulos.data,a.paginacion=t.data.paginacion)}).catch(function(t){a.requestSend=!1,a.error=t.message})}else axios.get("http://localhost/api/",{params:{buscar:this.txtbuscar,bus_suc:this.idSuc}}).then(function(t){a.requestSend=!1,"no"!=t.data?a.articulos=t.data:a.articulos=[]}).catch(function(t){Swal.fire("Error",t.message,"error")})},ArticuloSel:function(t){this.txtbuscar="",this.$emit("articulo_sel",t)}},mounted:function(){}},i=s("KHd+"),r=Object(i.a)(n,function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",[s("div",{staticClass:"modal fade",attrs:{id:"busquedaArticulo"}},[s("div",{staticClass:"modal-dialog modal-lg modal-dialog-scrollable",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[t._m(0),t._v(" "),s("div",{staticClass:"modal-body"},[s("div",{staticClass:"input-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.txtbuscar,expression:"txtbuscar"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Buscar...."},domProps:{value:t.txtbuscar},on:{keyup:function(a){return!a.type.indexOf("key")&&t._k(a.keyCode,"enter",13,a.key,"Enter")?null:t.buscar(!1)},input:function(a){a.target.composing||(t.txtbuscar=a.target.value)}}}),t._v(" "),s("div",{staticClass:"input-group-append"},[s("button",{staticClass:"btn btn-secondary",on:{click:function(a){return t.buscar(!1)}}},[t.requestSend?[s("span",{staticClass:"spinner-border spinner-border-sm",attrs:{role:"status"}}),s("span",{staticClass:"sr-only"},[t._v("Buscando...")]),t._v(" Cargando...\r\n\t                    ")]:[s("span",{staticClass:"fa fa-search"}),t._v(" Buscar\r\n\t                    ")]],2)])]),t._v(" "),s("table",{staticClass:"table table-sm table-striped table-hover mt-2"},[t._m(1),t._v(" "),t._l(t.articulos,function(a){return[s("tr",{class:{"text-danger":0==a.cantidad}},[s("td",[t._v(t._s(a.producto_c_barra))]),t._v(" "),s("td",[t._v(t._s(a.producto_nombre))]),t._v(" "),s("td",[s("strong",[t._v(t._s(new Intl.NumberFormat("de-DE").format(a.pre_venta1)))])]),t._v(" "),s("td",[s("strong",[t._v(t._s(a.cantidad))])]),t._v(" "),s("td",[s("button",{staticClass:"btn btn-outline-primary btn-sm",attrs:{title:"Seleccionar"},on:{click:function(s){return t.ArticuloSel(a)}}},[s("span",{staticClass:"fa fa-cart-plus"})])])])]})],2)]),t._v(" "),s("div",{staticClass:"modal-footer"},[t.requestLote?[t._m(2)]:t._e(),t._v(" "),[s("v-pagination",{attrs:{"page-count":t.paginacion.ultima_pagina,classes:t.bootstrapPaginationClasses,labels:t.customLabels},on:{change:t.onChange},model:{value:t.currentPage,callback:function(a){t.currentPage=a},expression:"currentPage"}})],t._v(" "),t._m(3)],2)])])])])},[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"modal-header bg-dark text-white"},[a("span",{staticClass:"modal-title"},[this._v("Buscar Articulo...")]),this._v(" "),a("button",{staticClass:"close text-white",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[this._v("×")]),this._v(" "),a("span",{staticClass:"sr-only"},[this._v("Cerrar")])])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("tr",[s("th",[t._v("Codigo")]),t._v(" "),s("th",[t._v("Descripcion")]),t._v(" "),s("th",[t._v("Precio")]),t._v(" "),s("th",[t._v("Stock")]),t._v(" "),s("th",[t._v("Acciones")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"mr-5 text-info"},[a("span",{staticClass:"spinner-border spinner-border-sm",attrs:{role:"status"}}),a("span",{staticClass:"sr-only"},[this._v("Validando...")]),this._v(" Verificando lotes...\r\n\t\t\t\t\t")])},function(){var t=this.$createElement,a=this._self._c||t;return a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[a("span",{staticClass:"fa fa-times"}),this._v(" Cerrar")])}],!1,null,null,null);a.default=r.exports}});